y = 'count')
print(hist)
}
histo_unique_data <- full_join(temp_histo_all, image_pixels) %>%
full_join(., date_modal)
#print PDF of histograms
for(i in 1:length(datelist)){
a <- histo_unique_data %>%
filter(date == datelist[i])
hist <- ggplot(a, aes(x = temp_degC)) +
geom_bar() +
final_theme +
labs(title = paste0(datelist[i]),
x = 'LS-derived skin temperature (deg C)',
y = 'count') +
annotate('text', label = paste0(a$perc_lake[1], ' percent of lake in LS scene'), x = 1, y = max(a$count), hjust = 0)+
annotate('text', label = paste0(a$acr_pval[1], ' ACR p-value'), x = 0.9, y = max(a$count), hjust = 0) +
annotate('text', label = paste0(a$dip_pval[1], ' HH p-value'), x = 0.8, y = max(a$count), hjust = 0)
print(hist)
}
#set up pdf device
pdf(file.path(datadir, 'histograms.pdf',width=11,height=8.5))
#set up pdf device
pdf(file.path(datadir, 'histograms.pdf'),width=11,height=8.5)
#print PDF of histograms
for(i in 1:length(datelist)){
a <- histo_unique_data %>%
filter(date == datelist[i])
hist <- ggplot(a, aes(x = temp_degC)) +
geom_bar() +
final_theme +
labs(title = paste0(datelist[i]),
x = 'LS-derived skin temperature (deg C)',
y = 'count') +
annotate('text', label = paste0(a$perc_lake[1], ' percent of lake in LS scene'), x = 1, y = max(a$count), hjust = 0)+
annotate('text', label = paste0(a$acr_pval[1], ' ACR p-value'), x = 0.9, y = max(a$count), hjust = 0) +
annotate('text', label = paste0(a$dip_pval[1], ' HH p-value'), x = 0.8, y = max(a$count), hjust = 0)
print(hist)
}
#Close pdf graphics device
dev.off()
a <- histo_unique_data %>%
filter(date == datelist[i])
ggplot(a, aes(x = temp_degC)) +
geom_bar() +
final_theme +
labs(title = paste0(datelist[i]),
x = 'LS-derived skin temperature (deg C)',
y = 'count') +
annotate('text', label = paste0(a$perc_lake[1], ' percent of lake in LS scene'), x = 1, y = max(a$count), hjust = 0)+
annotate('text', label = paste0(a$acr_pval[1], ' ACR p-value'), x = 0.9, y = max(a$count), hjust = 0) +
annotate('text', label = paste0(a$dip_pval[1], ' HH p-value'), x = 0.8, y = max(a$count), hjust = 0)
hist <- ggplot(a, aes(x = temp_degC)) +
geom_bar() +
final_theme +
labs(title = paste0(datelist[i]),
x = 'LS-derived skin temperature (deg C)',
y = 'count') +
annotate('text', label = paste0(a$perc_lake[1], ' percent of lake in LS scene'), x = 1, y = max(a$count), hjust = 0)+
annotate('text', label = paste0(a$acr_pval[1], ' ACR p-value'), x = 1, y = max(a$count)*.9, hjust = 0) +
annotate('text', label = paste0(a$dip_pval[1], ' HH p-value'), x = 1, y = max(a$count)*.9, hjust = 0)
ggplot(a, aes(x = temp_degC)) +
geom_bar() +
final_theme +
labs(title = paste0(datelist[i]),
x = 'LS-derived skin temperature (deg C)',
y = 'count') +
annotate('text', label = paste0(a$perc_lake[1], ' percent of lake in LS scene'), x = 1, y = max(a$count), hjust = 0)+
annotate('text', label = paste0(a$acr_pval[1], ' ACR p-value'), x = 1, y = max(a$count)*.9, hjust = 0) +
annotate('text', label = paste0(a$dip_pval[1], ' HH p-value'), x = 1, y = max(a$count)*.8, hjust = 0)
ggplot(a, aes(x = temp_degC)) +
geom_bar() +
final_theme +
labs(title = paste0(datelist[i]),
x = 'LS-derived skin temperature (deg C)',
y = 'count') +
annotate('text', label = paste0(a$perc_lake[1], ' percent of lake in LS scene'), x = min(a$temp_degC), y = max(a$count), hjust = 0)+
annotate('text', label = paste0(a$acr_pval[1], ' ACR p-value'), x = min(a$temp_degC), y = max(a$count)*.9, hjust = 0) +
annotate('text', label = paste0(a$dip_pval[1], ' HH p-value'), x = min(a$temp_degC), y = max(a$count)*.8, hjust = 0)
View(a)
ggplot(a, aes(x = temp_degC, y = count)) +
geom_col() +
final_theme +
labs(title = paste0(datelist[i]),
x = 'LS-derived skin temperature (deg C)',
y = 'count') +
annotate('text', label = paste0(a$perc_lake[1], ' percent of lake in LS scene'), x = min(a$temp_degC), y = max(a$count), hjust = 0)+
annotate('text', label = paste0(a$acr_pval[1], ' ACR p-value'), x = min(a$temp_degC), y = max(a$count)*.9, hjust = 0) +
annotate('text', label = paste0(a$dip_pval[1], ' HH p-value'), x = min(a$temp_degC), y = max(a$count)*.8, hjust = 0)
hist <- ggplot(a, aes(x = temp_degC, y = count)) +
geom_col(width = 0.1) +
final_theme +
labs(title = paste0(datelist[i]),
x = 'LS-derived skin temperature (deg C)',
y = 'count') +
annotate('text', label = paste0(a$perc_lake[1], ' percent of lake in LS scene'), x = min(a$temp_degC), y = max(a$count), hjust = 0)+
annotate('text', label = paste0(a$acr_pval[1], ' ACR p-value'), x = min(a$temp_degC), y = max(a$count)*.9, hjust = 0) +
annotate('text', label = paste0(a$dip_pval[1], ' HH p-value'), x = min(a$temp_degC), y = max(a$count)*.8, hjust = 0)
print(hist)
hist <- ggplot(a, aes(x = temp_degC, y = count)) +
geom_col(width = 0.2) +
final_theme +
labs(title = paste0(datelist[i]),
x = 'LS-derived skin temperature (deg C)',
y = 'count') +
annotate('text', label = paste0(a$perc_lake[1], ' percent of lake in LS scene'), x = min(a$temp_degC), y = max(a$count), hjust = 0)+
annotate('text', label = paste0(a$acr_pval[1], ' ACR p-value'), x = min(a$temp_degC), y = max(a$count)*.9, hjust = 0) +
annotate('text', label = paste0(a$dip_pval[1], ' HH p-value'), x = min(a$temp_degC), y = max(a$count)*.8, hjust = 0)
print(hist)
hist <- ggplot(a, aes(x = temp_degC, y = count)) +
geom_col(width = 0.4) +
final_theme +
labs(title = paste0(datelist[i]),
x = 'LS-derived skin temperature (deg C)',
y = 'count') +
annotate('text', label = paste0(a$perc_lake[1], ' percent of lake in LS scene'), x = min(a$temp_degC), y = max(a$count), hjust = 0)+
annotate('text', label = paste0(a$acr_pval[1], ' ACR p-value'), x = min(a$temp_degC), y = max(a$count)*.9, hjust = 0) +
annotate('text', label = paste0(a$dip_pval[1], ' HH p-value'), x = min(a$temp_degC), y = max(a$count)*.8, hjust = 0)
print(hist)
#set up pdf device
pdf(file.path(datadir, 'histograms.pdf'),width=11,height=8.5)
#print PDF of histograms
for(i in 1:length(datelist)){
a <- histo_unique_data %>%
filter(date == datelist[i])
hist <- ggplot(a, aes(x = temp_degC, y = count)) +
geom_col(width = 0.4) +
final_theme +
labs(title = paste0(datelist[i]),
x = 'LS-derived skin temperature (deg C)',
y = 'count') +
annotate('text', label = paste0(a$perc_lake[1], ' percent of lake in LS scene'), x = min(a$temp_degC), y = max(a$count), hjust = 0)+
annotate('text', label = paste0(a$acr_pval[1], ' ACR p-value'), x = min(a$temp_degC), y = max(a$count)*.9, hjust = 0) +
annotate('text', label = paste0(a$dip_pval[1], ' HH p-value'), x = min(a$temp_degC), y = max(a$count)*.8, hjust = 0)
print(hist)
}
#Close pdf graphics device
dev.off()
View(acr)
View(dip)
lmp <- read.csv('https://raw.githubusercontent.com/Lake-Sunapee-Protective-Association/LMP/main/master%20files/LSPALMP_1986-2020_v2021-03-29.csv')
lmp_temp_deep <- lmp %>%
filter(parameter == 'temp_degC')
unqiue(lmp$parameter)
unique(lmp$parameter)
colnames(lmp)
lmp_temp_deep <- lmp %>%
filter(parameter == 'temp_C') %>%
filter(station == 200 | station ==210 | station == 220| station==230)
View(lmp_temp_deep)
lmp_temp_deep <- lmp %>%
filter(parameter == 'temp_C') %>%
filter(station == 200 | station ==210 | station == 220| station==230) %>%
filter(depth_m < 1.5)
View(lmp_temp_deep)
lmp_temp_deep <- lmp %>%
filter(parameter == 'temp_C') %>%
filter(station == 200 | station ==210 | station == 220| station==230) %>%
filter(depth_m == 0.5)
source('~/GitHub/ids-ne-lakes/application - epilimion summer temperature.R', echo=TRUE)
lmp_temp_summer_mean <- lmp_temp_deep %>%
mutate(month = format(as.Date(date), '%m')) %>%
filter(month >= 6 & month <=8)
View(lmp_temp_deep)
lmp_temp_deep %>%
mutate(month = format(as.Date(date), '%m'))
lmp_temp_summer_mean <- lmp_temp_deep %>%
mutate(month = as.numeric(format(as.Date(date), '%m'))) %>%
filter(month >= 6 & month <=8)
lmp_temp_summer_mean <- lmp_temp_deep %>%
mutate(month = as.numeric(format(as.Date(date), '%m')),
year = as.numeric(format(as.Date(date), '%Y'))) %>%
filter(month >= 6 & month <=8) %>%
group_by(site, year) %>%
summarise(summer_mean_temp_degC = mean(temp_C),
sd_temp_degC = sd(temp_C),
n_obs = length(temp_C))
lmp_temp_summer_mean <- lmp_temp_deep %>%
mutate(month = as.numeric(format(as.Date(date), '%m')),
year = as.numeric(format(as.Date(date), '%Y'))) %>%
filter(month >= 6 & month <=8) %>%
group_by(station, year) %>%
summarise(summer_mean_temp_degC = mean(temp_C),
sd_temp_degC = sd(temp_C),
n_obs = length(temp_C))
View(lmp_temp_summer_mean)
lmp_temp_summer_mean <- lmp_temp_deep %>%
mutate(month = as.numeric(format(as.Date(date), '%m')),
year = as.numeric(format(as.Date(date), '%Y'))) %>%
filter(month >= 6 & month <=8) %>%
group_by(station, year) %>%
summarise(summer_mean_temp_degC = mean(value),
sd_temp_degC = sd(value),
n_obs = length(value))
ggplot(lmp_temp_summer_mean, aes(x=year, y = summer_mean_temp_degC)) +
geom_point()
ggplot(lmp_temp_summer_mean, aes(x=year, y = summer_mean_temp_degC, color = station)) +
geom_point()
lmp_temp_summer_mean <- lmp_temp_deep %>%
mutate(month = as.numeric(format(as.Date(date), '%m')),
year = as.numeric(format(as.Date(date), '%Y'))) %>%
filter(month >= 6 & month <=8) %>%
group_by(station, year) %>%
summarise(summer_mean_temp_degC = mean(value),
sd_temp_degC = sd(value),
n_obs = length(value)) %>%
mutate(station = as.factor(station))
ggplot(lmp_temp_summer_mean, aes(x=year, y = summer_mean_temp_degC, color = station)) +
geom_point()
library(ggthemes)
ggplot(lmp_temp_summer_mean, aes(x=year, y = summer_mean_temp_degC)) +
geom_point() +
facet_grid(station ~ .)
ggplot(lmp_temp_summer_mean, aes(x=year, y = summer_mean_temp_degC, size = n_obs)) +
geom_point() +
facet_grid(station ~ .)
lmp_temp_summer_mean <- lmp_temp_deep %>%
mutate(month = as.numeric(format(as.Date(date), '%m')),
year = as.numeric(format(as.Date(date), '%Y'))) %>%
filter(month >= 6 & month <=8) %>%
group_by(station, year) %>%
summarise(summer_mean_temp_degC = mean(value),
sd_temp_degC = sd(value),
n_obs = length(value)) %>%
mutate(station = as.factor(station)) %>%
filter(n_obs > 3)
ggplot(lmp_temp_summer_mean, aes(x=year, y = summer_mean_temp_degC, color = station)) +
geom_point()
lmp_temp_summer_mean <- lmp_temp_deep %>%
mutate(month = as.numeric(format(as.Date(date), '%m')),
year = as.numeric(format(as.Date(date), '%Y'))) %>%
filter(month >= 6 & month <=8) %>%
group_by(station, year) %>%
summarise(summer_mean_temp_degC = mean(value),
sd_temp_degC = sd(value),
n_obs = length(value)) %>%
mutate(station = as.factor(station)) %>%
filter(n_obs >= 3)
ggplot(lmp_temp_summer_mean, aes(x=year, y = summer_mean_temp_degC, color = station)) +
geom_point()
ggplot(lmp_temp_summer_mean, aes(x=year, y = summer_mean_temp_degC, size = n_obs)) +
geom_point() +
facet_grid(station ~ .)
ggplot(lmp_temp_summer_mean, aes(x=year, y = summer_mean_temp_degC)) +
geom_point() +
facet_grid(station ~ .)
ggplot(lmp_temp_summer_mean, aes(x=year, y = summer_mean_temp_degC)) +
geom_point() +
facet_grid(station ~ .) +
geom_smooth(method = 'lm')
ggplot(lmp_temp_summer_mean, aes(x=year, y = summer_mean_temp_degC)) +
geom_point() +
facet_grid(station ~ .) +
geom_smooth(method = 'lm', se = F)
#Load Landsat data
landsat_station <- read.csv('data/temp_zonal_stats_sunapee_1985_2020_05-11.csv')
source('~/GitHub/ids-ne-lakes/application - epilimion summer temperature.R', echo=TRUE)
colnames(landsat_station)
unique(landsat_station$Name)
landsat_station_deep <- landsat_station %>%
filter(Name == 'ST200' | Name =='ST210' | Name == 'ST220'| Name=='ST230')
View(lmp_temp_deep)
View(landsat_station_deep)
landsat_station_deep %>%
mutate(date = substr(uid, 14))
landsat_station_deep %>%
mutate(date = substr(uid, 14, 22))
landsat_station_deep %>%
mutate(date = substr(uid, 15, 22))
View(landsat_station)
landsat_summer_mean <- landsat_station_deep %>%
mutate(date = as.Date(substr(uid, 15, 22), format = '%Y%m%d'),
month = as.numeric(format(date, '%m')),
year = as.numeric(format(date, '%Y'))) %>%
filter(month >= 6 & month <=8) %>%
group_by(Name, year) %>%
summarise(summer_mean_temp_degC = mean(median),
sd_temp_degC = sd(median),
n_obs = length(median)) %>%
mutate(Name = as.factor(Name)) %>%
filter(n_obs >= 3)
ggplot(landsat_summer_mean, aes(x=year, y = summer_mean_temp_degC, color = Name)) +
geom_point()
ggplot(landsat_summer_mean, aes(x=year, y = summer_mean_temp_degC)) +
geom_point() +
facet_grid(station ~ .) +
geom_smooth(method = 'lm', se = F)
ggplot(landsat_summer_mean, aes(x=year, y = summer_mean_temp_degC)) +
geom_point() +
facet_grid(Name ~ .) +
geom_smooth(method = 'lm', se = F)
lmp_temp_summer_mean <- lmp_temp_deep %>%
mutate(month = as.numeric(format(as.Date(date), '%m')),
year = as.numeric(format(as.Date(date), '%Y'))) %>%
filter(month >= 6 & month <=8) %>%
group_by(station, year) %>%
summarise(is_summer_mean_temp_degC = mean(value),
is_sd_temp_degC = sd(value),
is_n_obs = length(value)) %>%
mutate(station = as.factor(station)) %>%
filter(n_obs >= 3)
lmp_temp_summer_mean <- lmp_temp_deep %>%
mutate(month = as.numeric(format(as.Date(date), '%m')),
year = as.numeric(format(as.Date(date), '%Y'))) %>%
filter(month >= 6 & month <=8) %>%
group_by(station, year) %>%
summarise(is_summer_mean_temp_degC = mean(value),
is_sd_temp_degC = sd(value),
is_n_obs = length(value)) %>%
mutate(station = as.factor(station)) %>%
filter(is+n_obs >= 3)
lmp_temp_summer_mean <- lmp_temp_deep %>%
mutate(month = as.numeric(format(as.Date(date), '%m')),
year = as.numeric(format(as.Date(date), '%Y'))) %>%
filter(month >= 6 & month <=8) %>%
group_by(station, year) %>%
summarise(is_summer_mean_temp_degC = mean(value),
is_sd_temp_degC = sd(value),
is_n_obs = length(value)) %>%
mutate(station = as.factor(station)) %>%
filter(is_n_obs >= 3)
ggplot(lmp_temp_summer_mean, aes(x=year, y = is_summer_mean_temp_degC, color = station)) +
geom_point()
ggplot(lmp_temp_summer_mean, aes(x=year, y = is_summer_mean_temp_degC)) +
geom_point() +
facet_grid(station ~ .) +
geom_smooth(method = 'lm', se = F)
landsat_summer_mean <- landsat_station_deep %>%
mutate(date = as.Date(substr(uid, 15, 22), format = '%Y%m%d'),
month = as.numeric(format(date, '%m')),
year = as.numeric(format(date, '%Y'))) %>%
filter(month >= 6 & month <=8) %>%
group_by(Name, year) %>%
summarise(ls_summer_mean_temp_degC = mean(median),
ls_sd_temp_degC = sd(median),
ls_n_obs = length(median)) %>%
mutate(Name = as.factor(Name)) %>%
filter(ls_n_obs >= 3)
ggplot(landsat_summer_mean, aes(x=year, y = ls_summer_mean_temp_degC, color = Name)) +
geom_point()
ls_is_summer_mean <- ls_summer_mean %>%
mutate(station = case_when(Name == 'ST200' ~ 200,
Name == 'ST210' ~ 210,
Name == 'ST220' ~ 220,
Name == 'ST230' ~ 230)) %>%
full_join(., lmp_temp_summer_mean)
ls_is_summer_mean <- landsat_summer_mean %>%
mutate(station = case_when(Name == 'ST200' ~ 200,
Name == 'ST210' ~ 210,
Name == 'ST220' ~ 220,
Name == 'ST230' ~ 230)) %>%
full_join(., lmp_temp_summer_mean)
ls_is_summer_mean <- landsat_summer_mean %>%
mutate(station = case_when(Name == 'ST200' ~ 200,
Name == 'ST210' ~ 210,
Name == 'ST220' ~ 220,
Name == 'ST230' ~ 230),
station = as.factor(station)) %>%
full_join(., lmp_temp_summer_mean)
ggplot(ls_is_summer_mean, aes(x = ls_summer_mean_temp_degC, y = is_summer_mean_temp_degC))
View(ls_is_summer_mean)
ggplot(ls_is_summer_mean, aes(x = ls_summer_mean_temp_degC, y = is_summer_mean_temp_degC)) +
geom_point()
ggplot(ls_is_summer_mean, aes(x = ls_summer_mean_temp_degC, y = is_summer_mean_temp_degC)) +
geom_point() +
facet_grid(station ~ .)
ggplot(ls_is_summer_mean, aes(x = ls_summer_mean_temp_degC, y = is_summer_mean_temp_degC)) +
geom_point() +
facet_grid(station ~ .) +
geom_smooth(method = 'lm', se=F)
library(tidyverse)
library(ggthemes)
#Load lspa data
lmp <- read.csv('https://raw.githubusercontent.com/Lake-Sunapee-Protective-Association/LMP/main/master%20files/LSPALMP_1986-2020_v2021-03-29.csv')
lmp_temp_deep <- lmp %>%
filter(parameter == 'temp_C') %>%
filter(station == 200 | station ==210 | station == 220| station==230) %>%
filter(depth_m == 0.5)
lmp_temp_summer_mean <- lmp_temp_deep %>%
mutate(month = as.numeric(format(as.Date(date), '%m')),
year = as.numeric(format(as.Date(date), '%Y'))) %>%
filter(month >= 6 & month <=8) %>%
group_by(station, year) %>%
summarise(is_summer_mean_temp_degC = mean(value),
is_sd_temp_degC = sd(value),
is_n_obs = length(value)) %>%
mutate(station = as.factor(station)) %>%
filter(is_n_obs >= 3)
ggplot(lmp_temp_summer_mean, aes(x=year, y = is_summer_mean_temp_degC, color = station)) +
geom_point()
ggplot(lmp_temp_summer_mean, aes(x=year, y = is_summer_mean_temp_degC)) +
geom_point() +
facet_grid(station ~ .) +
geom_smooth(method = 'lm', se = F)
#Load Landsat data
landsat_station <- read.csv('data/temp_zonal_stats_sunapee_1985_2020_06_15.csv')
landsat_station_deep <- landsat_station %>%
filter(Name == 'ST200' | Name =='ST210' | Name == 'ST220'| Name=='ST230')
landsat_summer_mean <- landsat_station_deep %>%
mutate(date = as.Date(substr(uid, 15, 22), format = '%Y%m%d'),
month = as.numeric(format(date, '%m')),
year = as.numeric(format(date, '%Y'))) %>%
filter(month >= 6 & month <=8) %>%
group_by(Name, year) %>%
summarise(ls_summer_mean_temp_degC = mean(median),
ls_sd_temp_degC = sd(median),
ls_n_obs = length(median)) %>%
mutate(Name = as.factor(Name)) %>%
filter(ls_n_obs >= 3)
ggplot(landsat_summer_mean, aes(x=year, y = ls_summer_mean_temp_degC, color = Name)) +
geom_point()
ggplot(landsat_summer_mean, aes(x=year, y = ls_summer_mean_temp_degC)) +
geom_point() +
facet_grid(Name ~ .) +
geom_smooth(method = 'lm', se = F)
ls_is_summer_mean <- landsat_summer_mean %>%
mutate(station = case_when(Name == 'ST200' ~ 200,
Name == 'ST210' ~ 210,
Name == 'ST220' ~ 220,
Name == 'ST230' ~ 230),
station = as.factor(station)) %>%
full_join(., lmp_temp_summer_mean)
ggplot(ls_is_summer_mean, aes(x = ls_summer_mean_temp_degC, y = is_summer_mean_temp_degC)) +
geom_point() +
facet_grid(station ~ .) +
geom_smooth(method = 'lm', se=F)
View(landsat_station)
landsat_station_deep <- landsat_station %>%
filter(WAYPOINT == 200 | WAYPOINT ==210 | WAYPOINT == 220| WAYPOINT==230)
landsat_station_deep <- landsat_station %>%
filter(WAYPOINT == 200 | WAYPOINT ==210 | WAYPOINT == 220| WAYPOINT==230)
landsat_summer_mean <- landsat_station_deep %>%
mutate(date = as.Date(substr(uid, 15, 22), format = '%Y%m%d'),
month = as.numeric(format(date, '%m')),
year = as.numeric(format(date, '%Y'))) %>%
filter(month >= 6 & month <=8) %>%
group_by(WAYPOINT, year) %>%
summarise(ls_summer_mean_temp_degC = mean(median),
ls_sd_temp_degC = sd(median),
ls_n_obs = length(median)) %>%
mutate(WAYPOINT = as.factor(WAYPOINT)) %>%
filter(ls_n_obs >= 3)
ggplot(landsat_summer_mean, aes(x=year, y = ls_summer_mean_temp_degC, color = WAYPOINT)) +
geom_point()
ggplot(landsat_summer_mean, aes(x=year, y = ls_summer_mean_temp_degC)) +
geom_point() +
facet_grid(WAYPOINT ~ .) +
geom_smooth(method = 'lm', se = F)
ls_is_summer_mean <- landsat_summer_mean %>%
mutate(station = as.factor(WAYPOINT)) %>%
full_join(., lmp_temp_summer_mean)
ggplot(ls_is_summer_mean, aes(x = ls_summer_mean_temp_degC, y = is_summer_mean_temp_degC)) +
geom_point() +
facet_grid(station ~ .) +
geom_smooth(method = 'lm', se=F)
View(landsat_station)
View(landsat_summer_mean)
View(landsat_summer_mean)
landsat_summer_mean <- landsat_station_deep %>%
mutate(date = as.Date(substr(uid, 15, 22), format = '%Y%m%d'),
month = as.numeric(format(date, '%m')),
year = as.numeric(format(date, '%Y'))) %>%
filter(month >= 6 & month <=8) %>%
filter(min > 0) %>%
group_by(WAYPOINT, year) %>%
summarise(ls_summer_mean_temp_degC = mean(median),
ls_sd_temp_degC = sd(median),
ls_n_obs = length(median)) %>%
mutate(WAYPOINT = as.factor(WAYPOINT)) %>%
filter(ls_n_obs >= 3)
ggplot(landsat_summer_mean, aes(x=year, y = ls_summer_mean_temp_degC, color = WAYPOINT)) +
geom_point()
ggplot(landsat_summer_mean, aes(x=year, y = ls_summer_mean_temp_degC)) +
geom_point() +
facet_grid(WAYPOINT ~ .) +
geom_smooth(method = 'lm', se = F)
ls_is_summer_mean <- landsat_summer_mean %>%
mutate(station = as.factor(WAYPOINT)) %>%
full_join(., lmp_temp_summer_mean)
ggplot(ls_is_summer_mean, aes(x = ls_summer_mean_temp_degC, y = is_summer_mean_temp_degC)) +
geom_point() +
facet_grid(station ~ .) +
geom_smooth(method = 'lm', se=F)
landsat_summer_mean <- landsat_station_deep %>%
mutate(date = as.Date(substr(uid, 15, 22), format = '%Y%m%d'),
month = as.numeric(format(date, '%m')),
year = as.numeric(format(date, '%Y'))) %>%
filter(month >= 6 & month <=8) %>%
filter(min > 0 & skew < 1 & skew >-1) %>%
group_by(WAYPOINT, year) %>%
summarise(ls_summer_mean_temp_degC = mean(median),
ls_sd_temp_degC = sd(median),
ls_n_obs = length(median)) %>%
mutate(WAYPOINT = as.factor(WAYPOINT)) %>%
filter(ls_n_obs >= 3)
ggplot(landsat_summer_mean, aes(x=year, y = ls_summer_mean_temp_degC, color = WAYPOINT)) +
geom_point()
ggplot(landsat_summer_mean, aes(x=year, y = ls_summer_mean_temp_degC)) +
geom_point() +
facet_grid(WAYPOINT ~ .) +
geom_smooth(method = 'lm', se = F)
ls_is_summer_mean <- landsat_summer_mean %>%
mutate(station = as.factor(WAYPOINT)) %>%
full_join(., lmp_temp_summer_mean)
ggplot(ls_is_summer_mean, aes(x = ls_summer_mean_temp_degC, y = is_summer_mean_temp_degC)) +
geom_point() +
facet_grid(station ~ .) +
geom_smooth(method = 'lm', se=F)
ggplot(lmp_temp_summer_mean, aes(x=year, y = is_summer_mean_temp_degC)) +
geom_point() +
facet_grid(station ~ .) +
geom_smooth(method = 'lm', se = F)
